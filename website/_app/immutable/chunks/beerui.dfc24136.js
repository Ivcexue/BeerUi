import{o as d}from"./index.d5ff37b9.js";const c=typeof window<"u";c&&(window.__beerui__={clickOutSide:{init:!1}});const m=/([\:\-\_]+(.))/g,b=/^moz([A-Z])/,g=e=>(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"");class S{constructor(t,s){this.reg=/(yyyy)|(MM)|(M)|(dd)|(d)|(HH)|(H)|(mm)|(m)|(ss)|(s)/g,this.formatTime="yyyy-MM-dd HH:mm:ss",this._date=new Date,t&&(this.formatTime=t),s&&(this._date=s)}get getTime(){return this._date=new Date,this.replaceTime()}setTime(t){return t?this._date=t:this._date=new Date,this.replaceTime()}replaceTime(){return this.formatTime.replace(this.reg,t=>this.getNowTime(t))}getNowTime(t){const s=String(this._date.getFullYear()),i=String(this._date.getMonth()+1),r=String(this._date.getDate()),n=String(this._date.getHours()),o=String(this._date.getMinutes()),l=String(this._date.getSeconds());return{yyyy:s,M:i,MM:this.concatZero(i),d:r,dd:this.concatZero(r),H:n,HH:this.concatZero(n),m:o,mm:this.concatZero(o),s:l,ss:this.concatZero(l)}[t]}concatZero(t){return t.padStart(2,"0")}}const $=(()=>c&&document.addEventListener?(e,t,s)=>{if(e&&t&&s)return e.addEventListener(t,s,!1),()=>h(e,t,s)}:(e,t,s)=>{if(e&&t&&s)return e.attachEvent(`on${t}`,s),()=>h(e,t,s)})(),h=(()=>c&&document.removeEventListener?(e,t,s)=>{e&&t&&e.removeEventListener(t,s,!1)}:(e,t,s)=>{e&&t&&e.detachEvent(`on${t}`,s)})();function u(e,t){if(!e||!t)return!1;if(t.indexOf(" ")!==-1)throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):` ${e.className} `.indexOf(` ${t} `)>-1}function x(e,t){if(!e)return;let s=e.className;const i=(t||"").split(" ");for(let r=0,n=i.length;r<n;r++){const o=i[r];o&&(e.classList?e.classList.add(o):u(e,o)||(s+=` ${o}`))}e.classList||(e.className=s)}function E(e,t){if(!e||!t)return;const s=t.split(" ");let i=` ${e.className} `;for(let r=0,n=s.length;r<n;r++){const o=s[r];o&&(e.classList?e.classList.remove(o):u(e,o)&&(i=i.replace(` ${o} `," ")))}e.classList||(e.className=g(i))}function _(e,t,s){if(!(!e||!t))if(typeof t=="object")for(var i in t)t.hasOwnProperty(i)&&_(e,i,t[i]);else t=f(t),e.style[t]=s}const a=function(e,t){if(!e||!t)return null;t=f(t),t==="float"&&(t="cssFloat");try{var s=document.defaultView.getComputedStyle(e,"");return e.style[t]||s?s[t]:null}catch{return e.style[t]}},y=(e,t)=>(t!=null?t?a(e,"overflow-y"):a(e,"overflow-x"):a(e,"overflow")).match(/(scroll|auto|overlay)/),L=(e,t)=>{let s=e;for(;s;){if([window,document,document.documentElement].includes(s))return window;if(y(s,t))return s;s=s.parentNode}return s};function M(e){return Object.prototype.toString.call(e)==="[object String]"}const f=function(e){return e.replace(m,function(t,s,i,r){return r?i.toUpperCase():i}).replace(b,"Moz$1")},A=(e,t,s)=>{let i=[],r=[];for(let n in e)s.includes(n)&&i.push(`${t}${e[n]}`),n==="class"&&(r=e[n].split(" "));return[...i,...r]};function I(e,t,s=""){let i=Object.entries(e).filter(r=>{let[n,o]=r;return t&&!t.has(n)?!1:Array.isArray(o)?o.length>0:p(o)});return i=i.map(r=>{let[n,o]=r;return[s?s+n:n,Array.isArray(o)?o.join(" "):o]}),Object.fromEntries(i)}function p(e){return e!==void 0&&e!==""&&e!==!1}class v{constructor(t){this.body=document.body,this.title="提示",this.message="",this.customClass="",this.showClose=!0,this.type="",this.zIndex=2e3,this.beforeClose=null,this.complete=null,this.closed=null;for(let s in t)t.hasOwnProperty(s)&&(this[s]=t[s])}renderType(){if(!this.type)return"";const t={success:{name:"check-circle-filled",color:"#67c23a"},warning:{name:"error-circle-filled",color:"#e6a23c"},info:{name:"info-circle-filled",color:"#909399"},error:{name:"close-circle-filled",color:"#f56c6c"}};return`
		<div class='be-icon' style='color: ${t[this.type].color};font-size: 24px;'>
			<i class='be-icon be-icon-${t[this.type].name}'></i>
		</div>
		`}renderBtn(t){return t=d({customClass:"be-button--normal",type:"button",text:"",style:"",id:""},t),`<button class="${t.customClass}" type=${t.type} id=${t.id} style='${t.style}'>
			${this.renderIcon({name:t.prevIcon})}
			<span>${t.text}</span>
			${this.renderIcon({name:t.nextIcon})}
		</button>`}renderIcon(t){return t=d({customClass:"",name:""},t),t.name?`<i class='be-icon be-icon-${t.name} ${t.customClass}'></i>`:""}getIdName(t){return"message_"+this.zIndex+"_"+t}}class T extends v{constructor(t){super(t),this.buttons=[],this.closeOnClickModal=!0,this.lockScroll=!0;for(let s in t)t.hasOwnProperty(s)&&(this[s]=t[s]);this.init()}init(){this.id=`MessageBoxWrapper_${this.zIndex}`,this.container=document.createElement("div"),this.container.classList.add("be-message-box__wrapper"),this.customClass&&this.container.classList.add(this.customClass),this.container.style.zIndex=String(this.zIndex),this.container.setAttribute("id",this.id),this.container.setAttribute("tabindex","-1"),this.container.setAttribute("role","dialog"),this.container.setAttribute("aria-modal","true"),this.container.setAttribute("aria-label",this.title),this.container.innerHTML=`
				<div class='be-message-box__mask'></div>
				<div class='be-message-box'>
					<div class='be-message-box__header'>
						<div class='be-message-box__title'><span>${this.title}</span></div>
						${this.showClose?this.renderBtn({customClass:"be-message-box__headerbtn",nextIcon:"close",text:""}):""}
					</div>
					<div class='be-message-box__content'>
						<div class='be-message-box__container'>
							<div class='be-message-box__status'>${this.renderType()}</div>
							<div class='be-message-box__message'><p>${this.message}</p></div>
						</div>
					</div>
					<div class='be-message-box__btns'>
						${this.renderButtons()}
					</div>
				</div>
			`,this.disableScroll(),this.renderDom(),this.body.appendChild(this.container),this.complete&&this.complete()}renderDom(){this.node=this.container.querySelector(".be-message-box");const t=this.container.querySelector(".be-message-box__mask"),s=this.container.querySelector(".be-message-box__headerbtn");t&&t.addEventListener("click",()=>this.closeOnClickModal&&this._beforeClose()),s&&s.addEventListener("click",()=>this._beforeClose()),this.bindButtonsEvent(),this.zIndex++}renderButtons(){if(this.buttons.length<=0)return"";let t="";const s=i=>i<this.buttons.length;return this.buttons.map((i,r)=>{const n=this.getIdName(r);t+=this.renderBtn({...i,id:this.getIdName(r),style:s(r)?"margin-right: 10px;":""}),i.cb&&(i._id=n)}),t}bindButtonsEvent(){this.buttons.length>0&&this.buttons.map(t=>{t._id&&(t.dom=this.container.querySelector(`#${t._id}`),t.dom.addEventListener("click",()=>t.cb({close:this._beforeClose.bind(this)})))})}_beforeClose(){this.beforeClose?this.beforeClose()&&this.close():this.close()}close(){this.doAnimate();let t=setTimeout(()=>{this.recoveryScroll(),this.body.removeChild(this.container),this.zIndex--,this.closed&&this.closed(),clearTimeout(t)},200)}doAnimate(){this.node.classList.add("be-message-box__out"),document.querySelector(`#${this.id}`).classList.add("message-slide-out")}disableScroll(){this.lockScroll&&(this.style=this.body.style.overflow,this.body.style.overflow="hidden")}recoveryScroll(){this.lockScroll&&(this.body.style.overflow=this.style)}}export{S as F,v as M,$ as a,x as b,M as c,T as d,A as f,L as g,c as i,I as m,h as o,E as r,_ as s};
