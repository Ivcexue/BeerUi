import{M as f}from"./beerui.dfc24136.js";import{o as u}from"./index.d5ff37b9.js";let o=null;const C=r=>o?(o.setNotice(r),o.id):(o=new m(r),o.id),g=()=>o&&o.closeAll(),v=(r,t=()=>{})=>o&&o.close(r,t);class m extends f{constructor(t){super(t),this.instances=[],t&&this.setNotice(t)}setNotice(t){const n=t.onClose,l=t.onClick;t=u({title:"提示",message:"",type:"",position:"top-right",duration:3e3,titleColor:"",messageColor:""},t),this.type=t.type,this.zIndex++,this.id=`NoticeWrapper_${this.zIndex}`;const s=document.createElement("div");s.classList.add("be-notify"),t.toast?s.classList.add("be-notify-toast"):s.classList.add(this.setPositionClass(t.position)),this.customClass&&s.classList.add(this.customClass),s.innerHTML=`
		${this.renderType()}
		<div class='be-notify__group'>
		  <h2 class='be-notify__title' style='color:${t.titleColor?t.titleColor:"#000"}' >${t.title}</h2>
		  ${this.showClose?"<div class='be-notice__close'>"+this.renderIcon({name:"close"})+"</div>":""}
		  <div class='be-notify__content' style='color:${t.messageColor?t.messageColor:"#000"}' >${t.message}</div>
		</div>
		`,this.body.appendChild(s),setTimeout(()=>{s.style.transform="translateX(0%)"});const e={};e.dom=s,e.duration=t.duration,e.id=this.id,e.onClose=()=>{this.close(e.id,n)},e.close=()=>{this.close(e.id,n)};const a=s.querySelector(".be-notice__close");a&&a.addEventListener("click",e.close),typeof l=="function"&&(e.dom.addEventListener("click",l),e.onClick=()=>{}),e.position=t.position,e.verticalProperty=this.setProperty(t.position),this.instances.push(e);let i=0;return this.instances.filter(c=>c.position===t.position).forEach((c,h)=>{c.dom.style["z-index"]=2e3+h,h!==0?i+=c.dom.offsetHeight+16:i=0}),i+=16,e.verticalOffset=i,e.dom.style[this.setProperty(t.position)]=i+"px",e.duration>0&&(e.timer=setTimeout(()=>{this.close(e.id,n)},e.duration)),e}close(t,n){let l=-1;const d=this.instances.length,s=this.instances.filter((i,c)=>i.id===t?(l=c,!0):!1)[0];if(!s)return;typeof n=="function"&&n(s);const e=s.position,a=s.dom.offsetHeight;if(s.dom.parentNode.removeChild(s.dom),this.instances.splice(l,1),clearTimeout(s.timer),s.timer=null,!(d<=1))for(let i=l;i<d-1;i++)this.instances[i].position===e&&(this.instances[i].dom.style[s.verticalProperty]=parseInt(this.instances[i].dom.style[s.verticalProperty],10)-a-16+"px")}closeAll(){for(let t=this.instances.length-1;t>=0;t--)this.instances[t].close()}setPositionClass(t){return t.includes("right")?"right":"left"}setProperty(t){return/^top-/.test(t)?"top":"bottom"}}export{v as a,g as c,C as s};
